<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Knossos.NET.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	    xmlns:v="using:Knossos.NET.Views"
		x:DataType="vm:MainWindowViewModel"
        mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="900"
        x:Class="Knossos.NET.Views.MainWindow"
        Icon="/Assets/knossos-icon.ico"
		WindowStartupLocation="CenterScreen"
        Title="{Binding AppTitle}">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>
	

	<!-- Main View -->
	<Grid Background="#18191A">
		<Grid.RowDefinitions>
			<RowDefinition Height="*"></RowDefinition>
			<RowDefinition Height="4"></RowDefinition>
			<RowDefinition Height="Auto" MaxHeight="550"></RowDefinition>
		</Grid.RowDefinitions>
		<TabControl Grid.Row="0" SelectedIndex="{Binding TabIndex}">
			<!--Installed Mods / Home-->
			<TabItem Header="Home">
				<v:ModListView Content="{Binding InstalledModsView}"/>
			</TabItem>
			<!--Nebula Mods / Explore-->
			<TabItem Header="Nebula">
				<v:ModListView Content="{Binding NebulaModsView}"/>
			</TabItem>
			<!--FSO Builds-->
			<TabItem Header="Engine">
				<v:FsoBuildsView Margin="10" Content="{Binding FsoBuildsView}"/>
			</TabItem>
			<!--Dev-->
			<TabItem Header="Develop">
				<v:DeveloperModsView Content="{Binding DeveloperModView}"/>
			</TabItem>
			<!--PXO-->
			<TabItem Header="PXO">
				<v:PxoView Content="{Binding PxoView}"/>
			</TabItem>
			<!--Global Settings-->
			<TabItem Header="Settings">
				<v:GlobalSettingsView Content="{Binding GlobalSettingsView}"/>
			</TabItem>
			<!--Debug-->
			<TabItem Header="Debug">
				<Grid RowDefinitions="Auto,*">
					<WrapPanel Grid.Row="0" Margin="5">
						<Button Margin="5" Background="DarkGreen" Command="{Binding OpenLog}">View Logfile</Button>
						<Button Margin="5" Background="DarkGreen" Command="{Binding OpenSettings}">View Settings File</Button>
						<Button Margin="5" Background="DarkGreen" Command="{Binding OpenFS2Ini}">View fs2_open.ini</Button>
						<Button Margin="5" Background="DarkGreen" Command="{Binding OpenFS2Log}">View fs2_open.log</Button>
						<Button Margin="5" Background="DarkRed" Command="{Binding UploadFS2Log}">Upload fs2_open.log</Button>
						<Button Margin="5" Background="DarkRed" Command="{Binding UploadKnossosConsole}">Upload Knossos Console</Button>
					</WrapPanel>
					<TextBox Grid.Row="1" Text="{Binding UiConsoleOutput}" IsReadOnly="True"></TextBox>
				</Grid>
			</TabItem>
		</TabControl>
		<GridSplitter Grid.Row="1" Background="Black" ResizeDirection="Rows"/>
		<v:TaskView Grid.Row="2" Content="{Binding TaskView}" VerticalAlignment="Top"/>
	</Grid>
</Window>
